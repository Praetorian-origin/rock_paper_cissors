<!DOCTYPE html>
<html>
  <head> </head>

  <body></body>

  <script>

  let possibleChoices = ["Rock", "Paper", "Scissors"];

    function computerPlay() {
     
      let randomNumber = Math.floor(Math.random() * 3);
      return possibleChoices[randomNumber];
    }

    function playRound(playerSelection, computerSelection) {
        
      playerSelection =
        playerSelection.substr(0, 1).toUpperCase() +
        playerSelection.substr(1, playerSelection.length - 1).toLowerCase();

        if(!possibleChoices.includes(playerSelection)) {
          return "You Lose! Invalid input";
        }

      // Losing conditions
      if (playerSelection == "Rock" && computerSelection == "Paper") {
        return "You Lose! Paper beats Rock";
      } else if (
        playerSelection == "Paper" &&
        computerSelection == "Scissors"
      ) {
        return "You Lose! Scissors beats Paper";
      } else if (playerSelection == "Scissors" && computerSelection == "Rock") {
        return "You Lose! Rock beats Scissors";
      }

      // Winning conditions
      else if (playerSelection == "Scissors" && computerSelection == "Paper") {
        return "You Win! Scissors beats Paper";
      } else if (playerSelection == "Rock" && computerSelection == "Scissors") {
        return "You Win! Rock beats Scissors";
      } else if (playerSelection == "Paper" && computerSelection == "Rock") {
        return "You Win! Paper beats Rock";
      }

      // if no condition is matched
      else {
        return "That's a match!, " + playerSelection + " = " + computerSelection;
      }
    }

    function game() {
      let i;
      let playerScore = 0;
      let computerScore = 0;

      for (i = 0; i < 5; i++) {
        let playerSelection = prompt(
          "Please choose between Paper, Rock, Scissors"
        );
        let computerSelection = computerPlay();
        let result = playRound(playerSelection, computerSelection);
        console.log(result);

        if (result.includes("Win")) {
          playerScore++;
        } else if (result.includes("Lose")) {
          computerScore++;
        }
      }

      console.log("Game is over");
      console.log("Player score: " + playerScore);
      console.log("Computer score: " + computerScore);
      if (playerScore > computerScore) {
        console.log("Player wins");
      } else if (playerScore < computerScore) {
        console.log("Computer wins");
      }
        else {
          console.log("No one loses and no one wins !")
        }
    }
  </script>
</html>
